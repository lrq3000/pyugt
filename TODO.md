# TODO

* Make the config file easier to find and edit:
    * [ ] modify read_config() to show a Tk Yes-No dialog to create a new config file in the current folder pyugt is launched, using the config.ini provided with pyugt (so that it can always be duplicated)
    * [ ] add a button on the GUI to open the config file in the default text editor of the OS.

* Translation future proofing:
    * [x] replace googletrans module with https://github.com/UlionTse/translators for free translation (fix current issues)
    * [x] add DeepL with authentication, as a paid option but without throttling nor risk of not working in the future (and it's also the best currently available japanese->english translator) https://github.com/DeepLcom/deepl-python
    * [x] add argos-translate as an offline translator
        * [] implement preprocessing tricks as described [here](https://skeptric.com/python-offline-translation/) to improve accuracy and reduce hallucinations?
        * [] Implement Marian Machine Translation (powering Microsoft Translator) offline translator as an alternative to argos-translate, as described [here](https://skeptric.com/python-offline-translation/)? - Already implemented by ByJacob, can merge! https://github.com/ByJacob/pyugt -- But MMT is a LOT more space consuming than Argos Translate so packaging in a binary may result in a huge > 4GB binary and up to 8 GB with both Argos Translate and MMT, whereas now it's already 1GB with just Argos Translate.
    * [] future: when it will be released in a stable branch, add argos-translate v2 support of M2M-100 model to translate more robustly across non-english languages, follow https://community.libretranslate.com/t/multilingual-translation-with-ctranslate2-and-pre-trained-fairseq-models/178/26 and https://github.com/argosopentech/argos-translate/tree/v2

* [] Add support for https://github.com/Artikash/Textractor (text hook extraction) instead of OCR. [Cannot work for emulated games](https://github.com/Artikash/Textractor/issues/418), but it will work for a lot of modern visual novel games.

* [] Explore tesseract osd extraction to see if it's possible to retain the position (and hence potentially overlaying the translated text over a screenshot of the game).
    * [] Checkout https://tesseract-ocr.github.io/tessdoc/ImproveQuality sparse text with OSD mode may work better

* [] Add image preprocessing (to increase contrast, detect edges, etc) to improve Tesseract OCR? Maybe also use Waifu2x to upscale kanjis?
    * [x] BEST: take inspiration from Visual Novel OCR and provide a GUI to tweak HSV and binarization parameters, it will be a lot easier to tweak image manipulation visually for the lambda user than programmatically: https://visual-novel-ocr.sourceforge.io/#h.fikow7ge3ky
        * [x] A simple approach: open the debug image generated by OCR using Pillow, then allow user to change config.ini parameters in realtime, they can do so using a text editor, then with each new translation the new OCRÂ call will display the image. Cheap and dirty way to provide a similar feature.
        * [] Implement HSV tweaking
        * [] BUG: OCR Preview window is missing the icons, a title bar and cannot be resized.
    * [] TODO: try https://github.com/wwtg99/image_filter
    * [] TODO: try (but will slow down a lot): https://gist.github.com/Tydus/987239fea966438d8a873fbb083240d6#file-waifu2x-py

* [] Use Travis-CI and AppVeyor to automatically build binaries across platforms?

* [] New shortcut to translate active window, using https://github.com/asweigart/pygetwindow on Windows (would be nice to find for Linux and MacOSX - there is a PR for MacOSX)
    See also:
    https://stackoverflow.com/questions/10266281/obtain-active-window-using-python
    https://stackoverflow.com/questions/12775136/get-window-position-and-size-in-python-with-xlib
    https://github.com/Pithikos/winlaunch

* [] BUG: when CTRL+F3 is used first (reuse previous region) as the first shortcut, and then CTRL+F2 is used, the program may fail because Tkinter root is first created in the thread, instead of the main app! We should initiate Tkinter root in main app first before anything!
